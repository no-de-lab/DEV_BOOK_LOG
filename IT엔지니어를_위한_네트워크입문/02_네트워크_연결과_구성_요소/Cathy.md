# 2장 네트워크 연결과 구성 요소

Goal - 네트워크 연결에 필요한 다양한 요소를 이해하는 것  

대부분의 기술은 이더넷 - TCP/IP 기반, 단순화 되고 있지만 용도와 필요 네트워크 속도에 따라 다양한 기술 요소들이 사용되고 있음 

### 2.1 네트워트 연결 구분
규모와 관리 범위에 따라 LAN, MAN, WAN 3가지로 구분
- LAN(Local Area Network) : 사용자 내부
  - 홈 네트워크용과 사무실용 네트워크처럼 소규모 네트워크를 말함
  - 과거 스위치 같이 간단한 장비로 연결된 네트워크를 LAN이라 불러왔었음
  - 관리 범위에서 소유한 건물, 대지에 직접 구축한 선로로 동작시키는 네트워크로 정의 
- MAN(Metro Area Network) : 한 도시 정도를 연결, 관리
- WAN(Wide Area Network) : 멀리 떨어진 LAN을 연결해주는 네트워크
  - LAN을 서로 연결하거나 인터넷 접속하기 위한 네트워크가 WAN에 해당
  - 개인이 직접 구축할 수 없는 범위로 통신사업자(KT, LGT..)로 부터 회선을 임대
> 예전에는 사용가는 기술이 모두 달라서 프로토콜이나 전송 기술에 따라 쉽게 구분했지만, 현재는 이더넷으로 통합되면서 관리범위 기준으로 구분



### 2.2 네트워크 회선
원격지 네트워크 연결하기 위해 WAN을 사용, 통신사 - 사용자 연결을 위해 이더넷이 주로 사용됨
- 인터넷 회선
  - 인터넷 접속을 위해 연결하는 회선 (이 회선이 있어야 인터넷 접속 가능)
  - 주로 사용하는 회선 광랜(이더넷)
- 전용 회선
  - 사용자 - 통신사 간에 대역폭(bandwidth)을 보장해주는 서비스를 대부분 전용 회선이라고 함
  - 전용케이블로 연결되어 있고 통신사 내부에서 TDM 같은 기술로 통신 품질을 보장
  - 전송 기술을 기반으로 구분한다면 음성 전송 기술 기반(저속), 메트로 이더넷(고속)으로 분류가능
  - 음성 전송 기술 기반
    - 64Kbps 단위로 구분되어 사용
    - 작은 기본 단위를 묶어 회선 접속 속도를 높이는 방법으로 높은 속도가 필요하지 않거나, 높은 신뢰성이 필요할때 사용됨
    - 현재는 이더넷 기반의 전송 기술이 발전해 사용빈도가 낮음
    - 하지만 아직 결재 승인(Clear Text) 전송을 위한 VAN사나 대외 연결에는 사용하는 경우가 많음
    - 사용하기 위해 _원격지 전송 기술로 변환할 수 있는 라우터가 필요_ 함
  - 메트로 이더넷
    - 광케이블 기반의 이더넷 사용
    - 이더넷으로 연결된 개별 가입자를 묶어 통신할 수 있는 다른 고속 통신 기술을 사용
    - 가입자와 통신사 내부에서 통신 기법이 다른 이유는 가입자 구분, 트래픽을 고속으로 전송하기 위해서
- VPN
  - 가상으로 직접 연결한 것 같은 효과가 나도록 만들어주는 네트워크 기술(물리적 잔용선 없음)
  - 통신사 VPN : MPSL VPN 기술사용( 하나의 망에 접속해 공용 회선을 이용하는 것) 
  - 가입자 VPN : 일반 인터넷 연결을 이용한 VPN
- DWDM(파장 분할 다중화)
 - 하나의 광케이블에 다른 파장의 빛을 통해 여러 채널을 만드는 동시네 데이터를 전송하는 기술

### 2.3 네트워크 구성 요소
- 네트워크 인터페이스 카드(NIC)
  - 흔히 랜카드라고 부르는 부품
  - 컴퓨터를 네트워크에 연결하기 위한 하드웨어 장치 (예에에에전에 아두이노 했을때 장비샀던 기억이)
  - 주요역할
    - 직렬화 : 전기적 신호 <-> 데이터 신호 변환 (상호 변환작업을 직렬화라고 함)
    - MAC 주소 : NIC는 MAC 주소를 가지고 있음, 본인주소에 맞는 패킷이 오면 시스템 내부에서 처리할 수 있도로 전달
    - 흐름 제어 : 데이터 유실 방지를 위해, 데이터를 받지 못할 때 상대방에세 통신 중지 요청
- 케이블과 커넥터
  - 네트워크 연결점이 케이블
  - 최근에는 무선으로 인터넷을 연결하지만 신뢰도 높은 통신이 필요할 경우 유선이 사용되고 있음
- 허브
  - 케이블과 동일한 1계층에서 동작하는 장비
  - 거리가 멀어질수록 줄어드는 전기 신호를 재생성해주고 여러 대의 장비를 연결할 목적으로 사용
  - 단순히 들어오는 신로를 모든 포트로 내보내 네트워크 성능절하 하는 문제, 패킷 무한 순환해 네트워크 전체를 마비하는 장애의 원인이 있어 현재 거의 사용되지 않음
- 스위치
  - 여러 장비를 연결, 통신을 중재하는 2계층 장비
  - 여러장비를 케이블 한곳으로 모아주는 역할을 하므로 스위치허브라고 불리기도함
  - 허브와 달리 MAC주소를 이해할 수 있어 목적지가 맞는 포트로만 전기 신호를 보냄
- 라우터
  - OSI 7계층중 3계층에서 동작, 먼 거리로 통신 할 수있는 프로토콜로 변환
  - 브로드캐스트와 멀티캐스트로 정확한 방향으로 패킷이 전송되도록 경로를 지정하고 최적의 경로로 포워딩함
  - 개인이 라우터 장비를 접하기는 어렵지만, 유사한 역할을 하는 L3 스위치와 공유기는 쉽게 찾아 볼 수 있음
- 로드 밸런서
  - 4계층에서 동작
  - L4 스위치라고 부르는 네트워크 장비도 로드 밸런서의 한 종류
  - 포트 주소를 확인하는 동시에 IP 주소를 변경 할 수 있음
  - 로드 밸런서가 가장 많이 사용되는 서비스는 _WEB_ 
  - 웹 서버를 증설하고 싶을 때, 로드 밸런서를 웹 서버 앞에 두고 웹 서버를 여러 대로 늘림
  - 대표 IP가 로드 밸런서를 갖고, 로드 밸런서가 각 웹 서버로 패킷의 목적지 IP 주소를 변경해 보냄
  - 이 원리로 여러 대의 웹 서버가 동시에 동작(성능향상), 일부 웹 서버가 문제가 생기더라도 복구가 빠름
- 보안 장비(방화벽/IPS)
  - 데이터 전달 목적보다는 정보 제어, 공격을 방어하는데 초점
  - 방화벽은 4계층에서 동작, 방화벽을 통과하는 패킷의 3, 4계층 정보를 확인하고 방화벽 정책을 비교해 버리거나 포워딩
- 기타(모뎀/ 공유기 등)
  - 공유기 
    - 2계층 스위치, 3계층 라우터, 4계층 NAT와 간단한 방화벽 기능을 한곳에 모아놓은 장비
    - 내부는 스위치, 무선, 라우터 부분 회로로 나누어짐
  - 모뎀
    - 짧은 거리, 장거리 통신 기술이 달라 그 기술을 변환해주는 장비
    - 공유기의 LAN, WAN 포트는 모두 일반 이더넷이어서 100m 이상 먼 거리로 데이터 전송을 못하므로 별도의 모뎀이 필요
    - 기가 인터넷 경우 FTTH 모덴을 사용
