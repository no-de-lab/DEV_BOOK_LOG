## 이중화 기술이 필요한 이유
- 끊김없는 좋은 서비스, 안정적인 서비스를 제공하기 위해 꼭 필요하다.
- 동작하지 않을시 전체 시스템의 중단을 초래하는 SPoF를 막아야한다.

인프라의 모든 요소가 이중화 구성이 필요한 항목들이며, 이 요소들이 속한 데이터 센터 자체도 이중화가 필요하다.
-> 인프라의 장애 상황에서 서비스가 가능한 것을 폴트 톨러런스라고 한다.
-> 액티브-액티브 혹은 액티브-스탠바이로 짜고, 모든 용량을 수용 가능하도록 산정해 설계해야한다.


## 이중화 구현을 위한 기술
1. LACP
두개 이상의 물리 인터페이스로 구성된 논리 인터페이스를 이용해, 모든 물리 인터페이스를 액티브 상태로 사용 

액티브-액티브로 구성됨. 물리 인터페이스들의 속도도 동일해야한다.

LACP를 통해 논리 인터페이스를 구성하기 위해 LACPDU 프레임을 사용해야한다.
장비 간 1:1 구성이어야 가능
액티브/패시브 모드가 있음.

PXE는 서버가 운영체제를 설치하기 전 단계라, 운영체제 설치 전에 LACP를 사용할 수 없다는 점을 감안했을 때 인터페이스가 정상적으로 활성화되지 않는다.
일반 인터페이스로 구성해 운영체제 설치 후 > 운영체제에서 LACP 재구성을 해야한다.
이 문제를 해결하기 위해, 스위치가 PXE Boot를 지원하게끔 설정하고, 한쪽이 LACP를 구성하면 PXE Boot 실행, 한쪽만 정상적으로 활성화한 뒤 서버에 운영체제가 설치되면 LACP를 구성한다.

밴더별로 LACP 설정 기술명이 다르다. 윈도 -> 티밍, 리눅스 -> 본딩

2. MC-LAG
SPof를 피하려고 양팔 벌린 구성 즉 서로 다른 스위치로 연결하는데, 이 경우 두 스위치 간 MAC(물리적 주소)주소가 달라서 LACP가 불가능해진다.

근데 서로 다른 스위치 간의 단일 MAC 주소를 사용해 액티브-액티브 형태의 이중화 구성이 가능하다.
가상 맥 주소를 만드는 것이다.

하나의 도메인으로 장비들을 구성하고, 이 둘 사이의 트래픽 전송을 위한 피어링크 구성.
설정 마치면 제어패킷 주고받고, 가상 맥 주소를 동일하게 생성

