# 4장 스위치: 2계층 장비

스위치가 MAC 주소를 어떻게 이해하고 활용하는지 알아보자

네트워크의 가장 핵심 장비인 스위치 2계층은 MAC 주소를 기반으로 동작
VLAN 기능 - 논리적네트워크 분리
스패닝 트리 프로토콜 - 네트워크 루프 방지

스위치
여러 장비가 서로 간섭없이 패킷을 통신하도록 도와주는 장비 -> 네트워크 전체의 통신 효율성 향상
핵심역할 위치를 파악하고 패킷을 정확히 전송 _MAC 주소테이블_ 을 가지고 있기에 가능하다


## 스위치 동작 방식
- 플러딩
  부팅할 경우 네트워크 관련 정보가 없기에 제 역할을 하지 못하고 허브처럼 동작
  스위치가 허브와 같이 모든 포트로 패킷을 흘리는 동작 방식을 플러딩
- 어드레스 러닝
  MAC 주소테이블을 만들고 유지하는 과정
- 포워딩 / 필터링
  MAC 주소테이블에 따라 패킷을 전달하는 과정, 다른 포트로 보내지 않는 동작을 필터링

스위치는 일반적인 유니캐스트에 대해서만 포워팅 필터링 작업을 수행
_BUM 트래픽 브로드캐스트, 언노운 유니케스트, 멀티캐스트에서는 다르게 동작함(플러딩-출발지 MAC 주소X)_

VLAN
LAN을 논리적 분할, 구성하는 기술
VLAN을 나누면 서로 다른 네트워크를 갖는 것이기에 유니캐스트, 브로드캐스트도 VLAN간의 통신 못함 -> 3계층 장비가 필요한

STP
SPoF로 인한 장애(하나뻑나면 다 뻑남)를 피하고자 다중화된 네트워크를 디자인
스위치 두 대로 디자인하지만, 패킷이 네트워크에 따라 계속 전송되므로 네트워크 마비시킬 수 있음 이러한 현상이 _네트워크 루프_

네트워크 루프는 왜 발생하는가? 
대부분 _브로드캐스트 스톰_ 으로 인한 문제


