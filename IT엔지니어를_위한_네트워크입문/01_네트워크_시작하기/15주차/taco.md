## 네트워크 구성
- 홈 네트워크 
> 어떤 인터넷 회선을 연결하더라도, 구성은 모뎀/공유기/단말간 물리적 연결이 필요하다.

- 데이터 센터 네트워크
> 안정적이고 빠른 대용량 서비스 제공을 목표로
> 높은 통신량을 수용해야, 고속 이더넷 기술 사용
> 기존에는 3계층 구성이 일반적이었으나, 가상화 기술과 높은 대역폭을 요구하는 스케일 아웃 서비스가 등장, 2계층 구성(스파인 리프)구조로 데이터 센터 네트워크 변화 
> 스파인 리프는 서버간 통신을 지원하기위해 제안
> 스파인은 40~ 100G, 리프는 10~25G 네트워크와 연결

## 프로토콜
### 복잡하고 산재되어있던 기술이 이터넷 - TCP/IP 기반 프로토콜들로 변경
한정된 자원으로 통신을 수행해야 했어서, 대부분의 프로토콜이 문자 기반이 아닌 2진수 비트 기반으로 만들어졌다.
따라서 매우 까다롭게 약속되었엇다. 
* 프로토콜 스택 : 프로토콜 묶음을 말한다. 

## OSI 7계층과 TCP/IP
과거 통신용 규약이 표준화 되지 않아 서로간 통신이 몹시 어려워, 이를 하나의 규약으로 통합하려는 노력을 함.
이 결과 데이터 전송 과정을 OSI7계층으로 나눠보면 이해하기 쉽다.
- 데이터 플로우 계층 (하위)
- 애플리케이션 계층 (상위)

계층 분류는 계층의 역할과 목표에 따른 것
애플리케이션 개발자는 하위보다는 상위에, 네트워크 개발자는 하위에 관심

그러나, 대부분의 현대 네트워크 프로토콜은 대부분 TCP/IP 프로토콜 스택 기반이다.
네트워크 액세스 (1,2)/인터넷(3)/트랜스포트(4)/애플리케이션(5,6,7)

## OSI 7 계층별 이해
1. 1계층(피지컬)
   > 물리계층, 전기 신호를 전달.
   > 허브, 리피터, 케이블, 커넥터, 트랜시버, 탭 장비
   > 들어온 전기신호를 재생성해서 내보낸다. 주소의 개념이 없어 전기 신호가 들어온 포트 제외하고는 모든 포트에 같은 전기 신호를 전송
   
2. 데이터 링크 계층
   > 전기 신호를 모아 데이터 형태로 처리
   > 주소 정보를 정의, 정확한 주소로 통신하도록.
   > 출발지와 도착지 주소 확인.
   > 플로우 컨트롤 진행(받을 수 있는지 확인)
   > MAC 주소체계가 있다. (랜카드 혹은 네트워크 인터페이스 카드, 스위치 모두 MAC을 이해함)
   > 스위치는 맥 주소를 보고 포트 지정해 내보낼 수도 있다. 단말이 어떤 맥 주소인지 주소습득 과정 진행.
    
3. 네트워크 계층
   > IP주소와 같은 논리적 주소 정의. 사용자가 환경에 맞게 변경. 네트워크 주소와 호스트 주소로 구분.
   > 라우터 사용. 라우터는 최적의 경로를 찾아주고, 해당 경로로 패킷 전송
    
4. 트랜스포트 계층
   > 데이터가 정상적으로 잘 보내지도록 확인하는 역할. 
   > 패킷이 유실되거나 순서가 바뀌었을 때 바로잡아줌.
   > 보내는 순서 = 시퀀스 번호, 받는 순서 = ACK 번호
   > 장치 내의 애플리케이션 구분을 위해 포트 번호를 사용
   > 로드밸런서와 방화벽 사용.
   
5. 세션 계층
   > 양 끝단의 응용 프로세스가 연결 성립하도록 도와줌. 연결을 끊어주기도.
   > 에러 복구와 재전송
   

6. 프레젠테이션 계층 
   > 시스템 혹은 애플리케이션 통신을 돕기위해 하나의 통일된 구문 형식으로 변환시키는 기능
   > MIME 인코딩, 암호화, 압축, 코드 변환
   > 
7. 애플리케이션 계층
   > 대표적 HTTP 프로토콜 
   > 애플리케이션 프로세스 정의, 서비스 수행
   
## 인캡슐레이션, 디캡슐레이션
데이터를 보내는 과정> 인캡슐레이션
데이터를 받는 과정> 디캡슐레이션

현대는 대부분 패킷 기반 네트워크. 
패킷에 데이터를 넣을 수 있도록 분할하는데, 헤더 정보를 각각 4,3,2계층에서 추가한다. (비트 단위로)
이를 인캡슐레이션.

이를 풀어서 보면 디캡슐레이션. 
헤더에는 크게
1. 현재 계층에서 정의하는 정보
2. 상위 프로토콜 지시자가 필요하다.

상위 계층으로 올라갈수록 종류가 많아지는 프로토콜. 어떤 상위계층으로 디캡슐레이션 과정에서 올려줄지에 대한 판단을 상위 프로토콜 지시자로 알 수 있다.
