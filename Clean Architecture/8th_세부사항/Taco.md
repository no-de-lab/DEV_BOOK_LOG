## 빠져있는 장
- 디테일을 위한 접근법 설명
### 계층 기반 패키지
전통적인 수평 계층형 아키텍처
- 웹, 업무 규칙, 영속성 코드를 위해 계층이 각각 하나씩 존재.
- 복잡하지않아도 무언가가 작동되는 아주 빠른 방법이지만, 커지고 복잡성이 늘어날수록 부족하다. 
- 도메인에 대해서 전혀 알 수 없다는 단점.

### 기능 기반 패키지
- 서로 연관된 기능, 도메인 개념에 기반해 얇게 코드를 나누는 방식
- 웹, 업무 규칙, 영속성 코드를 담는 건 맞지만, 각각이 나뉘는 게 아니라, 하나의 패키지 내부에 있다. 
- 이는 업무 도메인에 대해서는 알려준다.

### 포트와 어댑터
내부(도메인)와 외부(인프라)로 코드 베이스가 구성된다.

- 리포지토리가 간단한 이름으로 바뀌었다. 이는 도메인 주도 설계라는 세계관에서 비롯. 
- 유비쿼터스 도메인 언어 관점에서 내부를 정의해야하기 때문이다.

### 컴포넌트 기반 패키지
- 계층형 아키텍처의 단점
  - 각 계층은 반드시 바로 아래 계층에만 의존해야하는데, 의존성이 잘 안 지켜질 수도 있다.
  - 강제로 이를 막을 수는 있지만, 오류가 있다.
- 따라서, 사용자 인터페이스와 큰 단위의 컴포넌트를 분리하는 컴포넌트 기반 패키지가 필요하다.

### 캡슐화
이러한 패키지들은 타입을 public으로 쓰게된다면 뭐든 스타일을 위반하게 될 것이다.

접근 지시자를 적절히 사용해야한다.

### 다른 결합 분리 모드
소스 코드 의존성 분리를 위하여, 모듈 시스템을 잘 사용하거나, 소스코드 수준에서 의존성을 분리 가능

#### 내 외부로 소스 트리를 둘로 단순히 나눌 수도 있지만, 인프라 코드가 애플리케이션 코드를 직접 호출하게 될 수 있으므로 절충이 필요.

