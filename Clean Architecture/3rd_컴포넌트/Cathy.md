# 컴포넌트
컴포넌트가 마지막에 어떤 형태로 배포되든, 잘 설계된 컴포넌트라면 반드시 독립적으로배포 가능한, 따라서 독립적으로 개발 가능한 능력을 갖춰야한다.
이 책에는 소프트웨어 컴포넌트는 _런타임에 플러그인 형태로 결합할 수 있는 동적 링크파일_ 을 말한다

# 컴포넌트 응집도
어떤 클래스를 어느 컴포넌트에 포함시켜야 할까?
3가지 원칙으로 논의해볼 수 있다.

- REP : 재사용/ 릴리스 등가 원칙
  재사용 단위는 릴리스 단위와 같다.
  단일 컴포넌트는 응집성 높은 클래스와 모듈들로 구성되어야 함을 뜻한다. 하나의 컴포넌트로 묶인 클래스와 모듈은 반드시 함께 릴리스할 수 있어야 한다.
  동일한 릴리즈로 추적관리

- CCP : 공통 폐쇄 원칙
  동일한 이유로 동일한 시점에 변경되는 클래스를 같은 컴포넌트로 묶어라.
  다수의 애플리케이션에서 유지보수성(maintainability)은 재사용성보다 훨씬 중요
  반드시 변경되어야 한다면, 변경 모두가 단일 컴포넌트에서 발생하는 편이 낫다
  해당 컴포넌트만 재배포하면 된다 -> 릴리스, 재검증, 배포하는 일과 관련된 작업량을 최소화

- CRP : 공통 재사용 원칙
  컴포넌트 사용자들을 필요하지 않는 것에 의존하게 강요하지 말라.
  같이 재사용되는 경향이 있는 클래스와 모듈들은 같은 컴포넌트에 포함해야 한다
    -> 대체로 재사용 가능한 클래스는 재사용 모듈의 일부로써 해당 모듈의 다른 클래스와 상호작용 하는 경우가 많음

컴포넌트 응집도에 대한 균형 다이어그램
REP와 CCP는 포함(inclusive) 원칙이며, 컴포넌트를 더욱 크게 만든다. 
CRP는 배제(exdusive) 원칙이며, 컴포넌트를 더욱 작게 만든다.

# 컴포넌트 결합
컴포넌트 사이의 관계를 설명하는 세 가지 원칙
개발 가능성과 논리적 설계 사이의 균형을 다룬다.

- ADP: 의존성 비순환 원칙
  컴포넌트 의존성 그래프에 순환(cycle)이 있어서는 안 된다.

  컴포넌트 간의 의존성 구조를 그린다면 어느 컴포넌트에서 시작하더라도, 의존성 관계를 따라가면서 최초의 컴포넌트로 되돌아갈 수 없어야 한다. 
  즉, 비순환 방향 그래프(Directed Acyclic Graph, DAG)여야 한다.

  > 한번 그려봐야하나?

  순환이 발생할 경우
    컴포넌트를 분리하기가 상당히 어려워진다.
    단위 테스트를 하고 릴리스를 하는 일이 어려워진다.
    컴포넌트를 어떤 순서로 빌드해야 올바를지 파악하기 어려워진다.

  순환 의존성 제거
  DIP(의존성 역전 원칙)을 적용
  두 컴포넌트가 모두 의존하는 새로운 컴포넌트를 만든다. 그리고 두 컴포넌트가 모두 의존하는 클래스들을 새로운 컴포넌트로 이동시 킨다

- SDP: 안정된 의존성 원칙
  안정성의 방향으로(더 안정된쪽에) 의존하라.

  컴포넌트 안쪽으로 들어오는 의존성이 많아지면 상당히 안정적이라고 볼 수 있다. 
  의존하는 컴포넌트들이 많아지면 변경이 어렵기 때문이다.
  이 컴포넌트는 다른 컴포넌트를 _책임지는, 그리고 독립적_ 이라고 할 수 있다.

  모든 컴포넌트가 안정적이어야 하는 것은 아니다
  모든 컴포넌트가 최고로 안정적인 시스템이라면 변경이 불가능하다. 이는 바람직한 상황이 아니다.
  컴포넌트 중 일부는 변동성을 지니도록 설계된다. 
  

- SAP: 안정된 추상화 원칙
  컴포넌트는 안정된 정도만큼만 추상화되어야 한다.
  
  안정성(stability)과 추상화 정도(abstractness) 사이의 관계를 정의
    안정된 컴포넌트는 추상 컴포넌트여야 하며, 이를 통해 안정성이 컴포넌트를 확장하는 일을 방해해서는 안 된다.
    불안정한 컴포넌트는 반드시 구체 컴포넌트여야 하며, 이를 통해 컴포넌트 내부의 구체적인 코드를 쉽게 변경할 수 있어야 한다.