## v1
- 청구 내역을 html로 출력하는 기능이 필요하다. 
- 장르와 공연료 정책이 달라질 때마다 함수를 수정해야한다. 

즉, 변경 사항이 생기면 취약한 코드다.


## statement() 함수 쪼개기
- switch 문을 따로 쪼갠다.
- 쪼갠 뒤 테스트는 필수다.
- 변수의 이름을 명확히 바꾸기. 
    - JS는 동적 타입 언어이므로, 타입이 드러나게 작성하면 도움이 된다.  
- 지역 변수를 분리한다. 의존하지 않게끔! (ex. playFor 함수를 amountFor 매개 변수인 play를 걷어내고 바로 함수 내에서 사용한다.) 
- 임시 변수들도 나중에 문제가 날 수 있으므로 웬만하면 제거한다.
- 반복문 내의 함수들도 분리한다.
- 리팩토링 과정에서 성능이 떨어질 것이라는 우려는 대체로 맞지 않다. 그럼에도 떨어진다면 우선은 리팩토링이 끝나고 성능을 개선한다. 

## 계산 단계와 포맷팅 단계 분리하기
- statement()의 로직을 두 단계로 나누어서, 첫 단계에서는 데이터를 처리하고, 다음 단계에서는 이를 html로 표현한다. 
- statement()의 본문 전체를 별도 함수로 추출한 뒤에, 중간 데이터 구조를 인수로 전달 하고 중간 데이터로 옮길 수 있는 데이터는 옮겨본다.

## 다형성 처리 
계산 로직 자체를 다형성으로 표기해서 코드가 수행하는 일을 명확하게 표현한다.

