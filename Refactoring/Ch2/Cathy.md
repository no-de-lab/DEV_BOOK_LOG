# 챕터2 리팩터링 원칙
다시 돌아온 북스터디 ^_^ ㅎㅎㅎ

### 2.1 리팩터링 정의
- 여러가지 리팩터링 기법을 적용해서 소프트웨어 재구성한다
- 특정한 방식에 따라 코드를 정리하는 것만이 리팩터링이다
- 리팩터링 하는 동안에 코드가 항상 정삭작동! 리팩토링이 끝나지 않았더라고 언제든 멈출 수 있다
- 리팩토링하다가 코드가 깨졌다? 그것은 리팩토링이 아니다
  - 내가 그런듯...? 그렇다면 그 과정은 그냥 새로만들었다고 해야하는가...?

### 2.3 리팩터링 하는 이유
1. 소프트웨어 설계가 좋아진다
  - 아키텍쳐를 충분히 이해하지 못하면, 단기 목표만 세우다 보면 기반 구조가 무너진다
  - 설계의 부패속도가 가속화된다
2. 소프트웨어 이해가 쉬워진다
  - 팀 개발자를 배려해야한다
  - 근데 일단 내가 다시 코드를 보아도 이해를 할 수 있는 코드를 작성해야한다
3. 버그를 쉽게 찾을 수 있다
4. 프로그래밍 속도를 높일 수 있다
  - 가독성 개선되면 버그가 줄어들고, 쉽게 기능을 붙일 수 있다
  - 소프트웨어의 지구력이 높아진다!!!

### 2.4 그래서 언제 리팩토링 하는가?
삼진아웃!!!!!
비슷한 것이 세 번째 하게되면 리팩토링

- 준비를 위한 리팩토링
  - 리팩토링하기 가장 좋은 시점은 기능을 새로 추가하기 직전!
  - 회사에서 UI 리뉴얼 작업을 하게 되었는데 그렇게 하면서 기존 레거시 코드를 계속 수정작업을 거치는 듯.... 아 좋은 기회 구나 ^_^;;
- 이해를 위한 리팩토링
  - 코드의 의도를 명확하게 파악!
  - 함수 이름을 잘못 정하면, 이 함수가 하는 일을 파악하는데 시간이 더 소요된다.
  - 아 ~ 그렇다, 때문에 네이밍하는데 머리가 뿌셔질 것 같다.
  - 초기 리팩토링은 밖을 잘 내다보기 위한 창문 닦기 같은 것
- 리팩토링은 계획적으로? 수시로?
  - 무언가를 수정하려면 먼저 수정하기 쉽게 정돈하자 (작은 단위로 리팩토링 수시로 ?)
  - 나같은 경우는 계획을 한다고 해도 우선순위가 미뤄지고, 작성할 때 코드가 꼴 보기 싫으면 수정하려고 노력하는 것 같긴하다. (문제는 수정 범위를 제대로 분간을 못함...)
- 오래 걸리는 리팩토링
  - 몇 주 걸쳐 조금씩 해겨하는 것이 효과적
- 코드 리뷰에 리팩토링 활용
  - 코드리뷰 이후에 내 코드가 어떻게 다른 사람한테 보일지를 계속 고민하면서 짜는 것 같다
  - 가끔은 그 사람 성향에 따라서 수정을 요청이 될 때도 있긴 하지만...
  - 나도 쫌 잘 리뷰해주고 싶은데 전반적인 이해도에 따라서 코드가 보이고 안보이고...

### 2.5 리팩터링 시 고려할 문제
리팩토링의 궁극적인 목적은 개발속도를 높이고, 더 적은 노력으로 많은 가치를 창출하는것

"오로지 경제적인 이유로 리팩토링을 하는 것이다."
- 뼈때린다. 클린코드, 바람직한 습관 등 도덕적 이유로 정당화 하는 것이 아니다.
- 리팩토링 동력은 경제적인 효과! 에 있다. 상황에 맞게 조율해야한다

코드소유권
- 내 코드라 고집하지마라 언제든지 누가 쉽게 바꿀 수 있도록 해야한다
- 코드 소유는 팀에게 있다

테스트
- 저자는 테스트를 매우 강조하는 것(기본으로 깔고감) 같다
- 견고한 테스트 코드가 있어야지 리팩터링 과정에서 버그 위험성의 불안감을 줄일 수 있다
