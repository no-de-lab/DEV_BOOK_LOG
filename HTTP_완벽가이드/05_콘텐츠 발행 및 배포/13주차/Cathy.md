# 18. 웹 호스팅


호스팅이란 말의 뜻은 어떤 서비스(인터넷 상의 공간)를 빌려서 사용하는 것
컨텐츠 리소스를 저장, 중개, 관리하는 일을 통틀어 웹호스팅이라 함

## 가상 호스팅 
제공하는 공간을 작게 만들어 한 서버를 같이 사용하는 것 (컴퓨터 한 대를 여러 고객이 공유하게 해서 저렴한 웹 호스팅 서비스를 제공)
> 쉐어하우스구나 
호스팅 업자는 복제 서버 더미(서버 팜)를 만들고 서버 팜에 부하를 분산할 수 있음

호스트 정보가 없는 가상 서버 요청  
HTTP/1.0 명세는 공용 웹 서버가 호스팅하고 있는 가상 웹 사이트에 누가 접근하는지 식별 기능을 제공하지 않음
HTTP/1.0 요청은 호스트 명 정보를 포함하고 있지 않음

### 가상호스팅 동작하기
초기명세는 가상호스팅 고려안함 -> 업자가 차선책&컨벤션 개발 
 - HTTP 요청 메시지에 경로 컴포넌트 & 완전한 URI를 포함하여 문제 해결
 - HTTP/1.1 을 지원하는 서버는 HTTP 요청메세지에 있는 전체 URL을 처리 할 수 있어야 함
그러나 기존 애플리케이션이 업데이트하기에 시간이 소요되어서 4가지 기술이 개발됨 

- URL 경로를 통한 가상 호스팅
  - 서버가 어떤 사이트를 요청하는 것인지 알 수 있게 URL에 특별한 경로 컴포넌트를 추가
  - 경로에 있는 정보를 통해 해당 URL을 분석
  - 일반적으로, URL 기반의 가상 호스팅은 좋지 않은 방법

- 포트 번호를 통한 가상 호스팅
  - 각 사이트에 다른 포트번호를 할당하여, 분리된 웹 서버의 인스턴스 요청 처리
  - 사용자는 URL에 비표준 포트를 쓰지 않고서도 리소스를 찾길 원하는 문제 발생

- IP 주소를 통한 가상 호스팅
  - 각 가상 웹 사이트에 유일한 IP 주소를 한 개 이상 부여
  - 모든 가상 서버의 IP 주소는 같은 공용 서버에 연결되어 있음
  - 컴퓨터 시스템이 연결할 수 있는 장비의 IP의 개수에 제한 (IP 희소성)
  - 호스팅 업자는 호스팅 하는 모든 웹 사이트에 할당할 가상 IP 주소를 충분히 얻지 못하는 문제 발생

- Host 헤더를 통한 가상 호스팅
  - 모든 요청에 호스트명을 Host 확장 헤더에 기술해서 전달
  - HTTP/1.1 명세를 따르려면 Host 헤더를 반드시 기술


안정적인 웹 사이트 만들기
- 미러링 된 서버 팜
  - 서버 팜은 서로 대신할 수 있고 식별할 수 있게 설정된 웹 서버들의 집합
  - 서버팜의 서버에 있는 콘텐츠들은 한 곳에 문제가 생기면 다른 한 곳에서 대신 전달할 수 있게 미러링 할 수 있음
- HTTP 리다이렉션
  - 콘텐츠에 대한 URL은 마스터 서버의 IP를 가리키고, 마스터 서버는 요청을 받는 즉시 복제 서버로 리다이렉트
- DNS 리다이렉션
  - 콘텐츠의 URL은 여러 개의 IP 주소를 가리킬 수 있고, DNS 서버는 클라이언트에게 전송할 IP 주소를 선택할 수 있음

콘텐츠 분산 네트워크
  - 콘텐츠 분산 네트워크(CDN)는 특정 콘텐츠의 분산을 목적으로 하는 단순한 네트워크
CDN의 대리 캐시
  - 대리 서버는 콘텐츠에 대한 요청을 받음
  - 원 서버 집합을 대신해 요청을 받음

미러링 된 서버와의 차이점
  - 수요에 따라서 동작한다.
  - 원 서버의 전체 콘텐츠를 복사하지 않음
  - 클라이언트가 요청하는 콘텐츠만 저장

CDN의 프락시 캐시
- 대리 서버를 사용하면, 프락시 캐시의 콘텐츠는 요청이 있을 때만 저장되고 원본 서버 콘텐츠를 정확히 복제한다는 보장이 없음
- 요청이 있을 때만 저장하는 프락시 캐시는 스위치 혹은 라우터가 중간에서 웹 트래픽을 가로채 처리


20장을 참고하자...ㅋㅋ
