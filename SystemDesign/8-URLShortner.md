Url을 단축하는 방법. 우선 단축할 URL을 만들고싶은 경우 긴 url을 인자로 실어 POST를 해야하고, 단축 URL에 대해 요청이 오면 원래 URL로 보내주어야한다. 

리디렉션 응답을 할 때, 
- 301 Permanently: Location 헤더에 반환된 주소로 요청이 영구적 이전되었다는 뜻이다. 따라서 브라우저가 이 응답을 캐시한다. 
- 302 Found: 일시적으로 처리되어서, 언제나 단축 URL 서버에 먼저 요청이 보내지고 원래 URL로 리디렉션된다. 

서버 부하를 줄이려면 301이 좋다. 그러나 클릭 발생률이나 발생 위치 추적을 위해서는 302 쪽이 좋다. 이를 구현하는 것은 해시 테이블을 사용하는 것이다. 

## URL 단축
긴 URL -> 해시 함수 -> 짧은 URL 과정에 잇어서, 
- 입력으로 주어지는 긴 URL이 다른 값이면 해시 값도 달라야한다.
- 계산된 해시 값은 원래 입력으로 주어진 긴 URL로 복원되어야한다.

### 데이터 모델
- 해시 테이블은 메모리를 사용한다. 이는 비싸므로, 단축 주소와 원래 주소의 순서쌍을 관계형 데이터베이스에 저장하는 게 좋다. 

### 해시 함수
hashvalue는 0-9, a-z, A-Z 62자로 이뤄진다. 이 값을 정하기 위해서는 원하는 해시 값 개수 <= 62^n 이어야한다. 

### 해시 충돌 해소
- 충돌 후 해소 전략: 각 해시 함수가 원하는 자리수를 넘을 때, 원하는 자리 수만 이용할 수도 잇으나, 이러면 해시 결과가 충돌하기 때문에 추가적으로 문자열을 붙여 해시함수를 다시 돌릴 수 있다. 그러나 이러면 다시 한번 질의를 해야하기에 오버헤드가 크다. 블룸필터로 어떤 집합에 특정 원소가 있는지 검사할 수 있다.
- base-62 변환: 수의 표현 방식이 다른 두 시스템이 같은 수를 공유하야여하는 경우 사용한다. 단축 URL이 커지면 같이 길어진다. 

