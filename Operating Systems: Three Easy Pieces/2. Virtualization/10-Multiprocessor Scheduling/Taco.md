많은 곳에서 멀티 프로세서 시스템이 사용되고 있다. 멀티코어 프로세스가 나오게되면서, single cpu보다 훨씬 빠른 환경을 제공하게 되었다. 

그러나, 기존 프로그램에 적용하기는 어렵다. 기존 프로그램이 한개의 프로세서에 맞게 만들어졌었기 때문이다. 
어플리케이션 뿐 아니라, 멀티프로세서 스케줄링하는 방법도 고민해야한다. 

## Multiprocessor Architecture
멀티 프로세서 스케줄링을 둘러싼 새로운 문제를 이해하기 위해서, 데이터를 어떻게 공유하는지, 하드웨어 캐시는 어떠한지를 알아보며 근본적으로 single cpu와 multi cpu 간의 차이를 알아야한다. 

- 싱글 
  - 하드웨어 캐시에 계층이 있다. 
  - 캐시를 이용하여 자주 사용하는 데이터를 빠르게 접근 가능하다.
  - 캐시의 지역성에는 임시/공간 지역성이 있는데, 임시는 빠른 시간 내에 다시 접근하는, 공간은 어떤 주소 주위의 데이터도 접근될 가능성이 있는 것을 뜻한다. 
  - 이 지역성을 통해 어떤 데이터를 캐싱할지 결정할 수 있다. 
  - 그렇다면 멀티 프로세서는 여러cpu로 하나의 시스템과 메모리에 어떻게 접근할 것인가? 
- multi
  - cache coherence가 발생 가능하다. write가 한 cpu에서 발생했지만 업데이트가 되지 않아 다른 cpu에서는 업데이트 이전의 데이터를 가져간다. 
  - 이는 하드웨어가 메모리 액세스를 모니터링해야한다. 
  - 이를 버스 snooping이라 하는데, 각 캐시가 메모리에 집중하여, 변경이 있을시 바꾸는 것이다.

## 동기화 
프로그램 또한 캐시처럼 동시성을 신경써야한다. 

공유 데이터에 접근할 때 상호 배체가 정확성을 보장해야한다. lock같은 것들이 그것이다. 

그러나 락 또한, 성능 문제가 있다. 특히 cpu 개수가 증가하면 동기화접근 속도가 감소한다.