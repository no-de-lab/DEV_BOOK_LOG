어떻게 OS가 스케줄링을 할 것인가.
## Workload
workload에 대한 결정이 스케줄링 정책을 만드는 데 중요하다. 더 workload를 잘 알수록, 더욱 더 정책이 정교해진다.

1. 각 job은 같은 시간동안 돈다
2. 모든 job은 동시에 도착한다.
3. 일단 시작하면, 각 job은 완료를 위해 돈다.
4. 모든 job은 cpu만을 사용한다. 즉 i/o를 하지 않는다.
5. 런타임이 알려져있다.

라는 workload라는 가정을 하고 스케줄링을 구성한다.
## Scheduling Metrics
workload 가정을 만들어내는 것 이상으로, 우리는 하나가 더 필요한데, 그는 스케줄링 메트릭스다. 이는 무엇인가를 추정할 때 사용하는 것이다. 

우선은 **trurnaround time**으로 간소화한다. 
이는 프로세스가 도착해서 끝나는 시간까지를 의미한다. 

우리는 모든 job이 동시에 도착한다는 가정을 하게 되므로, 도착하는 시간을 0으로 설정한다. 
이 턴어라운드 시간은 성능 메트릭이다. 
다른 메트릭은 공정함이다. 이 성능과 공정함은 가끔은 경합한다. 

## FIFO
먼저 온 순서대로 실행되는 것이다. 실행하기가 쉽고 간단하다. 
공정하다 생각할 수는 있지만, 온 순서대로 실행되어서, 먼저 온 프로세스 시간이 너무 길면 뒤의 짧은 실헹시간을 가지는 프로세스가 오래 기다리게 된다. 
이는 convoy effect라고 한다. 

## Shortest Job First
FIFO를 보완하기 위하여, 간단하게 접근해본다. 
가장 짧은 것 순으로 실행한다. 
사실, 동시에 모든 job들이 도착한다고 가정해본다면, 이는 최적의 스케줄링 알고리즘이다. 

그러나, 다른 job들이 늦게 도착했는데, 먼저 도착한 프로세스 시간이 너무 길어도 결국 FIFO와 같다. 

## Shortest Time-to-Completion First
이는 선점의 개념을 추가한 것이다. 만약 더 빨리 끝나는 프로세스가 늦게라도 도착하면, 원래 진행하고 있던 프로세스의 cpu를 뺏는다.

## 메트릭스 추가: response time
turnaround time만 고려해본다면, Shortest Time-to-Completion First이 좋을지도 모른다. 

그러나, 그는 배치 프로그램 중 몇몇일 뿐이고, 만약 시분할 프로그램이 낀다면 이야기는 달라진다. 
response time에 대한 기준도 필요하다. 

response time = 프로세스가 도착해서 처음으로 시행되는 시간
이 경우, Shortest Time-to-Completion First은 하나의 프로세스가 끝날때까지 기다려야하므로, 높은 response time을 보일 수는 없다 하겠다.

## Round Robin
response time의 개선을 꾀할 수 있다. 시간을 쪼개서, (스케줄링 퀀텀 혹은 타임 슬라이스라 부른다) queue 안에 있는 프로세스를 차례대로 스위칭해가며 돌리는 것이다.
이는 짧은 시간 내에 차례가 돌아가므로, response time 이 적게 나온다. 

그렇지만, time slice를 너무 작게 설정해도, 컨텍스트 스위칭하는 데 시간을 다 쓸 수도 있다. 
즉, 오버헤드를 줄이기 위하여 좀 적절히 time slice 시간을 나누는 것이 중요하다. 
단순히 OS의 액션만을 바꾸는 것이 아니라, CPU가 가지고 있던 캐시나 다른 하드웨어 요소들도 다 초기화 하는 것이기 때문이다.

또한, 이는 turnaround time에 있어서는 굉장히 좋지 않다. 
RR은 그저 길게 프로세스를 늘어뜨려 끝나는 시간을 미루기 때문이다.

이렇게 공정해보이는 정책은,(RR같은) 어쩌면 턴어라운드 타임에 있어서는 취약하고, 공정하지 않아보이는 정책은, 반응 시간을 늦추게된다.

이렇듯 둘은 트레이드 오프 관계다.

### Incorporate I/O
프로세서를 더욱 효율적으로 쓰기 위해, overlap이라는 것을 사용한다.
I/O 작업으로 어떤 하나가 blocked된 상태라면, 다른 I/O작업이 없는 프로세스가 빈 CPU를 사용하는 것이다. 


### 그렇지만, 이 모두는 실제로 우리가 작업들의 길이를 안다는 전제 하에 만들어진 방법이므로 하자가 있다. 