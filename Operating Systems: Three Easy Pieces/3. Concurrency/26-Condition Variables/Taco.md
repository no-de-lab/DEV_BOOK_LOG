동시적 프로그램을 만들 때, lock 뿐만 아니라 condition을 체크하는 방법도 있다.

한 스레드가 running 할 때는 다른 스레드가 조건을 탐지하여 wait하게된다. (spin하는 것이 아닌)
그런데, 어떻게 스레드가 조건에 맞게 wait 하게 될까? 

## Definition and Routines
조건이 참이 되길 기다리기 위해서, 스레드는 조건 변수라는 것을 사용하게 된다. 
* 조건변수란, 스레드가 스스로를 집어넣는 큐다.
* 다익스트라의 'private semaphores'에서 기인하였다. 이는 후에 조건 변수라고 명명된다.
* wait, signal 이라는 오퍼레이션들이 있다. 
  * wait은 스레드가 스스로 sleep 상태에 놓이길 원할 때 실행된다.
  * signal은 잠든 스레드를 깨우고 싶을 때 실행된다. 
  * wait은 race 상황을 막기 위해서, mutex를 해당 스레드에 사용한다. 

* 이 조건 변수는 아주 잘 사용해야한다. 

## The Producer/Consumer Problem
이 문제는 다익스트라로 하여금 일반화된 세마포어를 개발하게 하였다. 
- 한개 혹은 그 이상의 프로듀서, 컨슈머 스레드가 있다고 가정해보자. 
- 버퍼에 프로듀서가 아이템을 생산해 넣어두고, 컨슈머는 그를 쓴다. 
- 버퍼는 공유 자원이기 때문에, 싱크 접근이 필요하다. 
- 이러한 조건들에는 if가 아니라 while을 사용해야한다. 

## Covering Conditions
어떤 스레드를 깨워야할까?
- 공간이 없는 경우, 모든 스레드를 깨우고, 공간이 안되는 스레드는 다시 재운다. 